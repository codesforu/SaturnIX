<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" >
 <head>
    <script type="text/javascript">var _starttime = new Date().getTime();</script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>PR_OpenTCPSocket</title>
</head>

<body>
          <div class="pageTitle">
            <h1 id="title">PR OpenTCPSocket</h1>
      </div>
    				
      <div id="page-update" class="pageStatus  hastoc">
 			   			</div>

<p>Creates a new TCP socket of the specified address family.</p>
<div id="section_1"><a id="Syntax"><h3 class="editable">Syntax</h3>
<pre class="eval">#include &lt;prio.h&gt; 

PRFileDesc* PR_OpenTCPSocket(PRIntn af);
</pre>
</div><div id="section_2"><h3 class="editable">Parameters</h3>
<p>The function has the following parameters:</p>
<dl><dt><code>af</code> </dt><dd>The address family of the new TCP socket. Can be <code>PR_AF_INET</code> (IPv4), <code>PR_AF_INET6</code> (IPv6), or <code>PR_AF_LOCAL</code> (Unix domain, supported on POSIX systems only). </dd></dl>
</div><div id="section_3"><h3 class="editable">Returns</h3>
<p>The function returns one of the following values:</p>
<ul> <li>Upon successful completion, a pointer to the <code>PRFileDesc</code> object created for the newly opened TCP socket.</li> <li>If the creation of a new TCP socket failed, <code>NULL</code>.</li>
</ul>
</div><div id="section_4"><h3 class="editable">Description</h3>
<p>TCP (Transmission Control Protocol) is a connection-oriented, reliable byte-stream protocol of the TCP/IP protocol suite. <code>PR_OpenTCPSocket</code> creates a new TCP socket of the address family <code>af</code>. A TCP connection is established by a passive socket (the server) accepting a connection setup request from an active socket (the client). Typically, the server binds its socket to a well-known port with <code><a href="PR_Bind.html">PR_Bind</a></code>, calls <code><a href="PR_Listen.html">PR_Listen</a></code> to start listening for connection setup requests, and calls <code><a href="PR_Accept.html">PR_Accept</a></code> to accept a connection. The client makes a connection request using <code><a href="PR_Connect.html">PR_Connect</a></code>.</p>
<p>After a connection is established, the client and server may send and receive data between each other. To receive data, one can call <code>PR_Read</code> or <code><a href="PR_Recv.html">PR_Recv</a></code>. To send data, one can call <code><a href="PR_Write.html">PR_Write</a></code>, <code>PR_Writev</code>, <code><a href="PR_Send.html">PR_Send</a></code>, or <code><a href="PR_TransmitFile.html">PR_TransmitFile</a></code>. <code><a href="PR_AcceptRead.html">PR_AcceptRead</a></code> is suitable for use by the server to accept a new client connection and read the client's first request in one function call.</p>
<p>A TCP connection can be shut down by <code><a href="PR_Shutdown.html">PR_Shutdown</a></code>, and the sockets should be closed by <code><a href="PR_Close.html">PR_Close</a></code>.</p></div><hr />
</body>
</html>
