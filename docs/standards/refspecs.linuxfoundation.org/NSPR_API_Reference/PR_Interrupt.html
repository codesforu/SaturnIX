<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" >
 <head>
    <script type="text/javascript">var _starttime = new Date().getTime();</script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>PR_Interrupt</title>
</head>

<body>
          <div class="pageTitle">
            <h1 id="title">PR_Interrupt</h1>
      </div>
    				
      <div id="page-update" class="pageStatus  hastoc">
 			   			</div>

<p>Sets the interrupt request for a target thread.
</p>
<div id="section_1"><a id="Syntax"><h3 class="editable"> Syntax </h3>
<pre class="eval">#include &lt;prthread.h&gt;

PRStatus PR_Interrupt(PRThread *thread);
</pre>
</div><div id="section_2"><a id="Parameter"><h3 class="editable"> Parameter </h3>
<p><code>PR_Interrupt</code> has the following parameter:
</p>
<dl><dt><code>thread</code>
</dt><dd>The thread whose interrupt request you want to set.
</dd></dl>
</div><div id="section_3"><a id="Returns"><h3 class="editable"> Returns </h3>
<p>The function returns one of the following values:
</p>
<ul><li> If the specified thread is currently blocked, <code>PR_SUCCESS</code>.
</li><li> Otherwise, <code>PR_FAILURE</code>.
</li></ul>
</div><div id="section_4"><a id="Description"><h3 class="editable"> Description </h3>
<p>The purpose of <code>PR_Interrupt</code> is to request that a thread performing some task stop what it is doing and return to some control point. It is assumed that a control point has been mutually arranged between the thread doing the interrupting and the thread being interrupted. When the interrupted thread reaches the prearranged point, it can communicate with its peer to discover the real reason behind the change in plans.
<p>The interrupt request remains in the thread's state until it is delivered exactly once or explicitly canceled. The interrupted thread returns <code>PR_FAILURE</code> (-1) with an error code (see <code><a href="PR_GetError.html">PR_GetError</a></code>) for blocking operations that return a <code>PRStatus</code> (such as I/O operations, monitor waits, or waiting on a condition). To check whether the thread was interrupted, compare the result of <code>PR_GetError</code> with <code>PR_PENDING_INTERRUPT_ERROR</code>.
<p><code>PR_Interrupt</code> may itself fail if the target thread is invalid.
</p>
</div><div id="section_5"><a id="Bugs"><h3 class="editable"> Bugs </h3>
<p><code>PR_Interrupt</code> has the following limitations and known bugs:
</p>
<ul><li> There can be a delay for a thread to be interrupted from a blocking I/O function. In all NSPR implementations, the maximum delay is at most five seconds. In the pthreads-based implementation on Unix, the maximum delay is 0.1 seconds.
</li><li> File I/O is considered instantaneous, so file I/O functions cannot be interrupted. Unfortunately the standard input, output, and error streams are treated as files by NSPR, so a <code>PR_Read</code> call on <code>PR_STDIN</code> cannot be interrupted even though it may block indefinitely.
</li><li> In the NT implementation, <code>PR_Connect</code> cannot be interrupted.
</li><li> In the NT implementation, a file descriptor is not usable and must be closed after an I/O function on the file descriptor is interrupted. See the memo <a class="external" rel="external nofollow" target="_blank" href="http://www.mozilla.org/projects/nspr/tech-notes/ntiotimeoutinterrupt.html" title="http://www.mozilla.org/projects/nspr/tech-notes/ntiotimeoutinterrupt.html">Using IO Timeout and Interrupt on NT for details.
</li></ul>
</div><hr />
</body>
</html>
