<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>getdomainname</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Linux Standard Base Core Specification, Generic Part"
HREF="book1.html"><LINK
REL="UP"
TITLE="Interface Definitions for libc"
HREF="libcman.html"><LINK
REL="PREVIOUS"
TITLE="getcwd"
HREF="baselib-getcwd.html"><LINK
REL="NEXT"
TITLE="getdtablesize"
HREF="baselib-getdtablesize.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Standard Base Core Specification, Generic Part</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="baselib-getcwd.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="baselib-getdtablesize.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="BASELIB-GETDOMAINNAME"
></A
>getdomainname</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN14766"
></A
><H2
>Name</H2
>getdomainname&nbsp;--&nbsp;get NIS domain name (DEPRECATED).</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN14769"
></A
><H2
>Synopsis</H2
><DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><A
NAME="AEN14770"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="FUNCSYNOPSISINFO"
>#include &#60;unistd.h&#62;</PRE
></TD
></TR
></TABLE
><P
><CODE
><CODE
CLASS="FUNCDEF"
>int 
    <TT
CLASS="FUNCTION"
>getdomainname</TT
>
  </CODE
>(char *
    <TT
CLASS="PARAMETER"
><I
>name</I
></TT
>
  , size_t
    <TT
CLASS="PARAMETER"
><I
>namelen</I
></TT
>
  );</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN14779"
></A
><H2
>Description</H2
><P
>If the Network Information System (NIS) is in use, 
<TT
CLASS="FUNCTION"
>getdomainname()</TT
> shall
copy the NIS domain name to the supplied buffer identified by 
<TT
CLASS="PARAMETER"
><I
>name</I
></TT
>,
with maximum length <TT
CLASS="PARAMETER"
><I
>namelen</I
></TT
>. 
If the NIS domain name is not currently set, 
<TT
CLASS="FUNCTION"
>getdomainname()</TT
> shall
copy the string <TT
CLASS="LITERAL"
>"(none)"</TT
> to the <TT
CLASS="PARAMETER"
><I
>name</I
></TT
>.
If <TT
CLASS="PARAMETER"
><I
>namelen</I
></TT
> is less than
the length of the string
to be copied, <TT
CLASS="FUNCTION"
>getdomainname()</TT
>
shall either truncate the string to <TT
CLASS="PARAMETER"
><I
>namelen</I
></TT
>
characters and place it in <TT
CLASS="PARAMETER"
><I
>name</I
></TT
>
(without a terminating null character),
or shall fail with <SPAN
CLASS="ERRORNAME"
>EINVAL</SPAN
>.</P
><P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
STYLE="color: #006600; background-color: #FFFFCC;"
><B
>Note: </B
>The NIS domain name is not the same as the domain portion of
a fully qualified domain name (for example, in DNS).</P
><P
STYLE="color: #006600; background-color: #FFFFCC;"
>The LSB does not include other NIS functions, nor does it specify how NIS may
affect other database functions. No conforming application can make use of this information
beyond noting whether or not the domain name has been set. If the name is set to a value
other than the string <TT
CLASS="LITERAL"
>"(none)"</TT
>, the application should not imply that
NIS is in use. Similarly, if it is set to <TT
CLASS="LITERAL"
>"(none)"</TT
>, the application should not assume
that NIS is not in use, although NIS functionality may be restricted in this case.</P
></BLOCKQUOTE
></DIV
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN14799"
></A
><H2
>Return Value</H2
><P
>On success,
<TT
CLASS="FUNCTION"
>getdomainname()</TT
> shall return 
<SPAN
CLASS="RETURNVALUE"
>0</SPAN
>. Otherwise, it shall return
<SPAN
CLASS="RETURNVALUE"
>-1</SPAN
> and set <CODE
CLASS="VARNAME"
>errno</CODE
>
to indicate the error.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN14806"
></A
><H2
>Errors</H2
><P
></P
><TABLE
CLASS="VARIABLELIST"
BORDER="0"
CELLSPACING="1"
CELLPADDING="1"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN14809"
></A
><SPAN
STYLE="white-space: nowrap"
>EINVAL</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
><TT
CLASS="PARAMETER"
><I
>name</I
></TT
> is a null pointer.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN14814"
></A
><SPAN
STYLE="white-space: nowrap"
>EINVAL</SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>The buffer identified by <TT
CLASS="PARAMETER"
><I
>name</I
></TT
> and 
<TT
CLASS="PARAMETER"
><I
>namelen</I
></TT
> is of insufficient size to store the NIS domain name string, and the implementation considers this an error.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN14820"
></A
><H2
>Future Directions</H2
><P
>The LSB does not include other NIS interfaces, and a future version
of this specification may remove this interface.
Application developers should avoid using this interface where possible.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="baselib-getcwd.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="baselib-getdtablesize.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>getcwd</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="libcman.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>getdtablesize</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>