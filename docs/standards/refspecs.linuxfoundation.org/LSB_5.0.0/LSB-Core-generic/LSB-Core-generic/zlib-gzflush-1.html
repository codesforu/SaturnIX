<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>gzflush</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Linux Standard Base Core Specification, Generic Part"
HREF="book1.html"><LINK
REL="UP"
TITLE="Interface Definitions for libz"
HREF="libzman.html"><LINK
REL="PREVIOUS"
TITLE="gzerror"
HREF="zlib-gzerror-1.html"><LINK
REL="NEXT"
TITLE="gzgetc"
HREF="zlib-gzgetc-1.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Standard Base Core Specification, Generic Part</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="zlib-gzerror-1.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="zlib-gzgetc-1.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="ZLIB-GZFLUSH-1"
></A
>gzflush</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN30147"
></A
><H2
>Name</H2
>gzflush&nbsp;--&nbsp;flush a compressed file stream</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN30152"
></A
><H2
>Synopsis</H2
><DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><A
NAME="AEN30153"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="FUNCSYNOPSISINFO"
>#include &#60;zlib.h&#62;</PRE
></TD
></TR
></TABLE
><P
><CODE
><CODE
CLASS="FUNCDEF"
>int
<TT
CLASS="FUNCTION"
>gzflush</TT
></CODE
>(gzFile
<TT
CLASS="PARAMETER"
><I
>file</I
></TT
>, int
<TT
CLASS="PARAMETER"
><I
>flush</I
></TT
>);</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN30162"
></A
><H2
>Description</H2
><P
>The <TT
CLASS="FUNCTION"
>gzflush()</TT
> function shall flush pending
output to the compressed file stream identified by
<TT
CLASS="PARAMETER"
><I
>file</I
></TT
>, which must be open for writing.&#13;</P
><DIV
CLASS="REFSECT2"
><A
NAME="AEN30167"
></A
><H3
>Flush Operation</H3
><P
>The parameter <TT
CLASS="PARAMETER"
><I
>flush</I
></TT
> determines which compressed bits 
are added to the output file.
If <TT
CLASS="PARAMETER"
><I
>flush</I
></TT
> is <CODE
CLASS="CONSTANT"
>Z_NO_FLUSH</CODE
>,
<TT
CLASS="FUNCTION"
>gzflush()</TT
>
may return with some data pending output, and not yet written to the file.</P
><P
>If <TT
CLASS="PARAMETER"
><I
>flush</I
></TT
> is <CODE
CLASS="CONSTANT"
>Z_SYNC_FLUSH</CODE
>,
<TT
CLASS="FUNCTION"
>gzflush()</TT
> shall flush all pending output to
<TT
CLASS="PARAMETER"
><I
>file</I
></TT
> and align the output to a byte 
boundary.
There may still be data pending compression that is not flushed.</P
><P
>If <TT
CLASS="PARAMETER"
><I
>flush</I
></TT
> is <CODE
CLASS="CONSTANT"
>Z_FULL_FLUSH</CODE
>,
all output shall be flushed, as for <CODE
CLASS="CONSTANT"
>Z_SYNC_FLUSH</CODE
>,
and the compression state shall be reset.
There may still be data pending compression that is not flushed.
<DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
STYLE="color: #006600; background-color: #FFFFCC;"
><B
>Rationale: </B
><CODE
CLASS="CONSTANT"
>Z_SYNC_FLUSH</CODE
> is intended to ensure that the compressed
data contains all the data compressed so far, and allows a decompressor
to reconstruct all of the input data. <CODE
CLASS="CONSTANT"
>Z_FULL_FLUSH</CODE
>
allows decompression to restart from this point if the previous compressed
data has been lost or damaged. Flushing is likely to degrade the
performance of the compression system, and should only be used where
necessary.</P
></BLOCKQUOTE
></DIV
></P
><P
>If <TT
CLASS="PARAMETER"
><I
>flush</I
></TT
> is set to <CODE
CLASS="CONSTANT"
>Z_FINISH</CODE
>,
all pending uncompressed data shall be compressed
and all output shall be flushed.</P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN30191"
></A
><H2
>Return Value</H2
><P
>On success, <TT
CLASS="FUNCTION"
>gzflush()</TT
> shall return the value
<SPAN
CLASS="RETURNVALUE"
>Z_OK</SPAN
>.
Otherwise <TT
CLASS="FUNCTION"
>gzflush()</TT
> shall return
a value to indicate the error, and may set the error number
associated with the compressed file stream 
<TT
CLASS="PARAMETER"
><I
>file</I
></TT
>.
<DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
STYLE="color: #006600; background-color: #FFFFCC;"
><B
>Note: </B
>If <TT
CLASS="PARAMETER"
><I
>flush</I
></TT
> is set to <CODE
CLASS="CONSTANT"
>Z_FINISH</CODE
>
and the flush operation is successful, <TT
CLASS="FUNCTION"
>gzflush()</TT
>
will return <SPAN
CLASS="RETURNVALUE"
>Z_OK</SPAN
>, but the compressed
file stream error value may be set to <CODE
CLASS="CONSTANT"
>Z_STREAM_END</CODE
>.</P
></BLOCKQUOTE
></DIV
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN30205"
></A
><H2
>Errors</H2
><P
>On error, <TT
CLASS="FUNCTION"
>gzflush()</TT
> shall return an error
value, and may set
the error number associated with the stream identified by 
<TT
CLASS="PARAMETER"
><I
>file</I
></TT
>
to indicate the error. Applications may use <TT
CLASS="FUNCTION"
>gzerror()</TT
>
to access this error value.</P
><P
><P
></P
><TABLE
CLASS="VARIABLELIST"
BORDER="0"
CELLSPACING="1"
CELLPADDING="1"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN30213"
></A
><SPAN
STYLE="white-space: nowrap"
><CODE
CLASS="CONSTANT"
>Z_ERRNO</CODE
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>An underlying base library function has indicated an error.
The global variable <CODE
CLASS="VARNAME"
>errno</CODE
> may be examined 
for further information.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN30219"
></A
><SPAN
STYLE="white-space: nowrap"
><CODE
CLASS="CONSTANT"
>Z_STREAM_ERROR</CODE
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>The stream is invalid, is not open for writing, or is in an invalid state.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN30224"
></A
><SPAN
STYLE="white-space: nowrap"
><CODE
CLASS="CONSTANT"
>Z_BUF_ERROR</CODE
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>no compression progress is possible (see <TT
CLASS="FUNCTION"
>deflate()</TT
>).</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN30230"
></A
><SPAN
STYLE="white-space: nowrap"
><CODE
CLASS="CONSTANT"
>Z_MEM_ERROR</CODE
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Insufficient memory available to compress.</P
></TD
></TR
></TBODY
></TABLE
></P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="zlib-gzerror-1.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="zlib-gzgetc-1.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>gzerror</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="libzman.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>gzgetc</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>