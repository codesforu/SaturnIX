<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>ttyio</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Linux Standard Base Core Specification, Generic Part"
HREF="book1.html"><LINK
REL="UP"
TITLE="Interface Definitions for libc"
HREF="libcman.html"><LINK
REL="PREVIOUS"
TITLE="sockio"
HREF="baselib-sockio-2.html"><LINK
REL="NEXT"
TITLE="jrand48_r"
HREF="baselib-jrand48-r-1.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Standard Base Core Specification, Generic Part</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="baselib-sockio-2.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="baselib-jrand48-r-1.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="BASELIB-TTYIO-2"
></A
>ttyio</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN17434"
></A
><H2
>Name</H2
>ttyio&nbsp;--&nbsp;tty ioctl commands</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN17437"
></A
><H2
>Synopsis</H2
><DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><A
NAME="AEN17440"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="FUNCSYNOPSISINFO"
>#include &#60;sys/ioctl.h&#62;
#include &#60;fcntl.h&#62;</PRE
></TD
></TR
></TABLE
><P
><CODE
><CODE
CLASS="FUNCDEF"
>int 
  <TT
CLASS="FUNCTION"
>ioctl</TT
></CODE
>(int 
  <TT
CLASS="PARAMETER"
><I
><TT
CLASS="REPLACEABLE"
><I
>fd</I
></TT
></I
></TT
>, unsigned long 
  <TT
CLASS="PARAMETER"
><I
><TT
CLASS="REPLACEABLE"
><I
>request</I
></TT
></I
></TT
>, int *
  <TT
CLASS="PARAMETER"
><I
><TT
CLASS="REPLACEABLE"
><I
>argp</I
></TT
></I
></TT
>);</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN17454"
></A
><H2
>Description</H2
><P
>Tty <I
CLASS="EMPHASIS"
>ioctl</I
> commands are a subset of the 
<TT
CLASS="FUNCTION"
>ioctl()</TT
> calls, which can perform a variety of 
functions on tty devices. <TT
CLASS="PARAMETER"
><I
>fd</I
></TT
> shall be 
an open file descriptor referring to a terminal device.</P
><P
>The following <TT
CLASS="FUNCTION"
>ioctl()</TT
>s are provided:</P
><P
></P
><TABLE
CLASS="VARIABLELIST"
BORDER="0"
CELLSPACING="1"
CELLPADDING="1"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN17465"
></A
><SPAN
STYLE="white-space: nowrap"
><TT
CLASS="SYMBOL"
>TIOCGWINSZ</TT
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Get the size attributes of the terminal or pseudo-terminal identified by
<TT
CLASS="PARAMETER"
><I
>fd</I
></TT
>. On entry, <TT
CLASS="PARAMETER"
><I
>argp</I
></TT
> shall 
reference a <TT
CLASS="STRUCTNAME"
>winsize</TT
> structure.
On return, the structure will have 
<CODE
CLASS="STRUCTFIELD"
>ws_row</CODE
> set to the number of rows of text 
(i.e. lines of text) that can be viewed on the device, and
<CODE
CLASS="STRUCTFIELD"
>ws_col</CODE
> set to the number of columns (i.e. text width).
<DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
STYLE="color: #006600; background-color: #FFFFCC;"
><B
>Note: </B
>The number of columns stored in <CODE
CLASS="STRUCTFIELD"
>ws_col</CODE
>
assumes that the terminal device is using a mono-spaced font.</P
></BLOCKQUOTE
></DIV
></P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN17478"
></A
><SPAN
STYLE="white-space: nowrap"
><TT
CLASS="SYMBOL"
>TIOCSWINSZ</TT
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Sets the size attributes of the terminal or pseudo-terminal identified by 
<TT
CLASS="PARAMETER"
><I
>fd</I
></TT
>.  On entry, <TT
CLASS="PARAMETER"
><I
>argp</I
></TT
> shall
reference a <TT
CLASS="STRUCTNAME"
>winsize</TT
> structure.  
The value of the <TT
CLASS="STRUCTNAME"
>winsize</TT
> structure's element 
<CODE
CLASS="STRUCTFIELD"
>ws_row</CODE
> shall be the number of 
rows of text (i.e. lines of text) that can be viewed on the device, 
and the element <CODE
CLASS="STRUCTFIELD"
>ws_col</CODE
> shall be
the number of columns (i.e. text width).  
Note that this call merely sets the size attributes for the kernel driver, 
not the window size itself, 
and is intended to be used to update the kernel driver when the
window size is changed.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN17489"
></A
><H2
>Return Value</H2
><P
>On success, <SPAN
CLASS="RETURNVALUE"
>0</SPAN
> is returned. 
On error, <SPAN
CLASS="RETURNVALUE"
>-1</SPAN
> is returned and
the global variable <CODE
CLASS="VARNAME"
>errno</CODE
> is set appropriately.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN17495"
></A
><H2
>Errors</H2
><P
></P
><TABLE
CLASS="VARIABLELIST"
BORDER="0"
CELLSPACING="1"
CELLPADDING="1"
><TBODY
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN17498"
></A
><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="ERRORNAME"
>EBADF</SPAN
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
><TT
CLASS="PARAMETER"
><I
>fd</I
></TT
> is not a valid descriptor.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN17504"
></A
><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="ERRORNAME"
>EFAULT</SPAN
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
><TT
CLASS="PARAMETER"
><I
>argp</I
></TT
> references an inaccessible memory area.</P
></TD
></TR
><TR
><TD
ALIGN="LEFT"
VALIGN="TOP"
><A
NAME="AEN17510"
></A
><SPAN
STYLE="white-space: nowrap"
><SPAN
CLASS="ERRORNAME"
>EINVAL</SPAN
></SPAN
></TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
WIDTH="5"
>&nbsp;</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
><TT
CLASS="PARAMETER"
><I
>request</I
></TT
> and <TT
CLASS="PARAMETER"
><I
>argp</I
></TT
> are not valid.</P
></TD
></TR
></TBODY
></TABLE
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="baselib-sockio-2.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="baselib-jrand48-r-1.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>sockio</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="libcman.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>jrand48_r</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>