<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>pmap_getport</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
TITLE="Linux Standard Base Core Specification, Generic Part"
HREF="book1.html"><LINK
REL="UP"
TITLE="Interface Definitions for libc"
HREF="libcman.html"><LINK
REL="PREVIOUS"
TITLE="openat64"
HREF="baselib-openat64.html"><LINK
REL="NEXT"
TITLE="pmap_set"
HREF="baselib-pmap-set-3.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Linux Standard Base Core Specification, Generic Part</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="baselib-openat64.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="baselib-pmap-set-3.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="BASELIB-PMAP-GETPORT-3"
></A
>pmap_getport</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN18101"
></A
><H2
>Name</H2
>pmap_getport&nbsp;--&nbsp;find the port number assigned to a service registered with a
portmapper.</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN18104"
></A
><H2
>Synopsis</H2
><DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><A
NAME="AEN18107"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="FUNCSYNOPSISINFO"
>#include &#60;rpc/pmap_clnt.h&#62;</PRE
></TD
></TR
></TABLE
><P
><CODE
><CODE
CLASS="FUNCDEF"
>u_short *
  <TT
CLASS="FUNCTION"
>pmap_getport</TT
></CODE
>(struct sockaddr_in *
  <TT
CLASS="PARAMETER"
><I
><TT
CLASS="REPLACEABLE"
><I
>address</I
></TT
></I
></TT
>, const u_long
  <TT
CLASS="PARAMETER"
><I
><TT
CLASS="REPLACEABLE"
><I
>program</I
></TT
></I
></TT
>, const u_long *
  <TT
CLASS="PARAMETER"
><I
><TT
CLASS="REPLACEABLE"
><I
>version</I
></TT
></I
></TT
>, u_int 
  <TT
CLASS="PARAMETER"
><I
><TT
CLASS="REPLACEABLE"
><I
>protocol</I
></TT
></I
></TT
>);</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN18124"
></A
><H2
>Description</H2
><P
>The <TT
CLASS="FUNCTION"
>pmap_getport()</TT
> function shall
return the port number assigned to a service registered with a
RPC Binding service running on a given target system,
using the protocol described in
<A
HREF="informativerefs.html#STD.RFC1833"
>RFC 1833: Binding Protocols for ONC RPC Version 2</A
>.
The <TT
CLASS="FUNCTION"
>pmap_getport()</TT
> function shall be called given the
RPC program number <TT
CLASS="PARAMETER"
><I
>program</I
></TT
>,
the program version <TT
CLASS="PARAMETER"
><I
>version</I
></TT
>, and transport
protocol <TT
CLASS="PARAMETER"
><I
>protocol</I
></TT
>. Conforming implementations shall
support both <CODE
CLASS="CONSTANT"
>IPPROTO_UDP</CODE
> and 
<CODE
CLASS="CONSTANT"
>IPPROTO_TCP</CODE
> protocols. On entry,
<TT
CLASS="PARAMETER"
><I
>address</I
></TT
> shall specify the address of the 
system on which the portmapper to be
contacted resides. The value of <CODE
CLASS="VARNAME"
>address-&#62;sin_port</CODE
>
shall be ignored, and the standard
value for the portmapper port shall always be used.</P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
STYLE="color: #006600; background-color: #FFFFCC;"
><B
>Note: </B
>Security and network restrictions may prevent a
conforming application from contacting a remote RPC Binding
Service.</P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN18141"
></A
><H2
>Return Value</H2
><P
>On success, the <TT
CLASS="FUNCTION"
>pmap_getport()</TT
> function shall return 
the port number in host byte order of the RPC application
registered with the remote portmapper. On failure, 
if either the program was not
registered or the remote portmapper service could not be reached, 
the <TT
CLASS="FUNCTION"
>pmap_getport()</TT
> function
shall return 0. If the remote portmap service could not be reached, the status
is left in the global variable <CODE
CLASS="VARNAME"
>rpc_createerr</CODE
>.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="baselib-openat64.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="baselib-pmap-set-3.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>openat64</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="libcman.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>pmap_set</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>